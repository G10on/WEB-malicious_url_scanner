<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
  </head>
  <body>
    <main>
      <h1>Site Checker</h1>
      <p>
        In this site you can check if the URL of a website is safe to access or not. This is verified by using a Machine Learning model based on different data that can be obtained solely from the URL provided by the user.
      </p>
      <div>
        <p>
          Introduce a URL you want to verify if it's safe
        </p>
        <form action="javascript:checkURL()">
          <input id="input_url" type="text"/>
          <input type="submit">
        </form>
        <span id="result"></span>
      </div>
    </main>
  </body>
  <script type="text/javascript">

    
    var modelo = null;

    //Cargar modelo
    
    function checkURL() {
      (async () => {
        console.log("Cargando modelo...");
        modelo = await tf.loadLayersModel("/model.json");
        console.log("Modelo cargado...");
      })();
      var input_url = document.getElementById("input_url").value;
      
      if (modelo != null) {
        document.getElementById("result").innerHTML=input_url;
        /*
        var tensor = tf.tensor1d([parseInt(celsius)]);
        var prediccion = modelo.predict(tensor).dataSync();
        prediccion = Math.round(prediccion, 1);
        document.getElementById("resultado").innerHTML = celsius + " celsius son " + prediccion + " fahrenheit!";
        */
      } else {
        document.getElementById("result").innerHTML = "Intenta de nuevo en un momento...";
      }
    }


  </script>
</html>
